//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: pythagoras/d/CubicCurves.java
//
//  Created by Thomas on 7/1/13.
//

#import "Crossing.h"
#import "CubicCurve.h"
#import "ICubicCurve.h"
#import "IOSDoubleArray.h"
#import "Lines.h"
#import "java/lang/Math.h"
#import "CubicCurves.h"

@implementation PythagorasDCubicCurves

+ (double)flatnessSqWithDouble:(double)x1
                    withDouble:(double)y1
                    withDouble:(double)ctrlx1
                    withDouble:(double)ctrly1
                    withDouble:(double)ctrlx2
                    withDouble:(double)ctrly2
                    withDouble:(double)x2
                    withDouble:(double)y2 {
  return [JavaLangMath maxWithDouble:[PythagorasDLines pointSegDistSqWithDouble:ctrlx1 withDouble:ctrly1 withDouble:x1 withDouble:y1 withDouble:x2 withDouble:y2] withDouble:[PythagorasDLines pointSegDistSqWithDouble:ctrlx2 withDouble:ctrly2 withDouble:x1 withDouble:y1 withDouble:x2 withDouble:y2]];
}

+ (double)flatnessSqWithJavaLangDoubleArray:(IOSDoubleArray *)coords
                                    withInt:(int)offset {
  return [PythagorasDCubicCurves flatnessSqWithDouble:[((IOSDoubleArray *) NIL_CHK(coords)) doubleAtIndex:offset + 0] withDouble:[((IOSDoubleArray *) NIL_CHK(coords)) doubleAtIndex:offset + 1] withDouble:[((IOSDoubleArray *) NIL_CHK(coords)) doubleAtIndex:offset + 2] withDouble:[((IOSDoubleArray *) NIL_CHK(coords)) doubleAtIndex:offset + 3] withDouble:[((IOSDoubleArray *) NIL_CHK(coords)) doubleAtIndex:offset + 4] withDouble:[((IOSDoubleArray *) NIL_CHK(coords)) doubleAtIndex:offset + 5] withDouble:[((IOSDoubleArray *) NIL_CHK(coords)) doubleAtIndex:offset + 6] withDouble:[((IOSDoubleArray *) NIL_CHK(coords)) doubleAtIndex:offset + 7]];
}

+ (double)flatnessWithDouble:(double)x1
                  withDouble:(double)y1
                  withDouble:(double)ctrlx1
                  withDouble:(double)ctrly1
                  withDouble:(double)ctrlx2
                  withDouble:(double)ctrly2
                  withDouble:(double)x2
                  withDouble:(double)y2 {
  return [JavaLangMath sqrtWithDouble:[PythagorasDCubicCurves flatnessSqWithDouble:x1 withDouble:y1 withDouble:ctrlx1 withDouble:ctrly1 withDouble:ctrlx2 withDouble:ctrly2 withDouble:x2 withDouble:y2]];
}

+ (double)flatnessWithJavaLangDoubleArray:(IOSDoubleArray *)coords
                                  withInt:(int)offset {
  return [PythagorasDCubicCurves flatnessWithDouble:[((IOSDoubleArray *) NIL_CHK(coords)) doubleAtIndex:offset + 0] withDouble:[((IOSDoubleArray *) NIL_CHK(coords)) doubleAtIndex:offset + 1] withDouble:[((IOSDoubleArray *) NIL_CHK(coords)) doubleAtIndex:offset + 2] withDouble:[((IOSDoubleArray *) NIL_CHK(coords)) doubleAtIndex:offset + 3] withDouble:[((IOSDoubleArray *) NIL_CHK(coords)) doubleAtIndex:offset + 4] withDouble:[((IOSDoubleArray *) NIL_CHK(coords)) doubleAtIndex:offset + 5] withDouble:[((IOSDoubleArray *) NIL_CHK(coords)) doubleAtIndex:offset + 6] withDouble:[((IOSDoubleArray *) NIL_CHK(coords)) doubleAtIndex:offset + 7]];
}

+ (void)subdivideWithPythagorasDICubicCurve:(id<PythagorasDICubicCurve>)src
                  withPythagorasDCubicCurve:(PythagorasDCubicCurve *)left
                  withPythagorasDCubicCurve:(PythagorasDCubicCurve *)right {
  double x1 = [((id<PythagorasDICubicCurve>) NIL_CHK(src)) x1], y1 = [((id<PythagorasDICubicCurve>) NIL_CHK(src)) y1];
  double cx1 = [((id<PythagorasDICubicCurve>) NIL_CHK(src)) ctrlX1], cy1 = [((id<PythagorasDICubicCurve>) NIL_CHK(src)) ctrlY1];
  double cx2 = [((id<PythagorasDICubicCurve>) NIL_CHK(src)) ctrlX2], cy2 = [((id<PythagorasDICubicCurve>) NIL_CHK(src)) ctrlY2];
  double x2 = [((id<PythagorasDICubicCurve>) NIL_CHK(src)) x2], y2 = [((id<PythagorasDICubicCurve>) NIL_CHK(src)) y2];
  double cx = (cx1 + cx2) / 2.0f, cy = (cy1 + cy2) / 2.0f;
  cx1 = (x1 + cx1) / 2.0f;
  cy1 = (y1 + cy1) / 2.0f;
  cx2 = (x2 + cx2) / 2.0f;
  cy2 = (y2 + cy2) / 2.0f;
  double ax = (cx1 + cx) / 2.0f, ay = (cy1 + cy) / 2.0f;
  double bx = (cx2 + cx) / 2.0f, by = (cy2 + cy) / 2.0f;
  cx = (ax + bx) / 2.0f;
  cy = (ay + by) / 2.0f;
  if (left != nil) {
    [left setCurveWithDouble:x1 withDouble:y1 withDouble:cx1 withDouble:cy1 withDouble:ax withDouble:ay withDouble:cx withDouble:cy];
  }
  if (right != nil) {
    [right setCurveWithDouble:cx withDouble:cy withDouble:bx withDouble:by withDouble:cx2 withDouble:cy2 withDouble:x2 withDouble:y2];
  }
}

+ (void)subdivideWithJavaLangDoubleArray:(IOSDoubleArray *)src
                                 withInt:(int)srcOff
                 withJavaLangDoubleArray:(IOSDoubleArray *)left
                                 withInt:(int)leftOff
                 withJavaLangDoubleArray:(IOSDoubleArray *)right
                                 withInt:(int)rightOff {
  double x1 = [((IOSDoubleArray *) NIL_CHK(src)) doubleAtIndex:srcOff + 0], y1 = [((IOSDoubleArray *) NIL_CHK(src)) doubleAtIndex:srcOff + 1];
  double cx1 = [((IOSDoubleArray *) NIL_CHK(src)) doubleAtIndex:srcOff + 2], cy1 = [((IOSDoubleArray *) NIL_CHK(src)) doubleAtIndex:srcOff + 3];
  double cx2 = [((IOSDoubleArray *) NIL_CHK(src)) doubleAtIndex:srcOff + 4], cy2 = [((IOSDoubleArray *) NIL_CHK(src)) doubleAtIndex:srcOff + 5];
  double x2 = [((IOSDoubleArray *) NIL_CHK(src)) doubleAtIndex:srcOff + 6], y2 = [((IOSDoubleArray *) NIL_CHK(src)) doubleAtIndex:srcOff + 7];
  double cx = (cx1 + cx2) / 2.0f, cy = (cy1 + cy2) / 2.0f;
  cx1 = (x1 + cx1) / 2.0f;
  cy1 = (y1 + cy1) / 2.0f;
  cx2 = (x2 + cx2) / 2.0f;
  cy2 = (y2 + cy2) / 2.0f;
  double ax = (cx1 + cx) / 2.0f, ay = (cy1 + cy) / 2.0f;
  double bx = (cx2 + cx) / 2.0f, by = (cy2 + cy) / 2.0f;
  cx = (ax + bx) / 2.0f;
  cy = (ay + by) / 2.0f;
  if (left != nil) {
    [left replaceDoubleAtIndex:leftOff + 0 withDouble:x1];
    [left replaceDoubleAtIndex:leftOff + 1 withDouble:y1];
    [left replaceDoubleAtIndex:leftOff + 2 withDouble:cx1];
    [left replaceDoubleAtIndex:leftOff + 3 withDouble:cy1];
    [left replaceDoubleAtIndex:leftOff + 4 withDouble:ax];
    [left replaceDoubleAtIndex:leftOff + 5 withDouble:ay];
    [left replaceDoubleAtIndex:leftOff + 6 withDouble:cx];
    [left replaceDoubleAtIndex:leftOff + 7 withDouble:cy];
  }
  if (right != nil) {
    [right replaceDoubleAtIndex:rightOff + 0 withDouble:cx];
    [right replaceDoubleAtIndex:rightOff + 1 withDouble:cy];
    [right replaceDoubleAtIndex:rightOff + 2 withDouble:bx];
    [right replaceDoubleAtIndex:rightOff + 3 withDouble:by];
    [right replaceDoubleAtIndex:rightOff + 4 withDouble:cx2];
    [right replaceDoubleAtIndex:rightOff + 5 withDouble:cy2];
    [right replaceDoubleAtIndex:rightOff + 6 withDouble:x2];
    [right replaceDoubleAtIndex:rightOff + 7 withDouble:y2];
  }
}

+ (int)solveCubicWithJavaLangDoubleArray:(IOSDoubleArray *)eqn {
  return [PythagorasDCubicCurves solveCubicWithJavaLangDoubleArray:eqn withJavaLangDoubleArray:eqn];
}

+ (int)solveCubicWithJavaLangDoubleArray:(IOSDoubleArray *)eqn
                 withJavaLangDoubleArray:(IOSDoubleArray *)res {
  return [PythagorasDCrossing solveCubicWithJavaLangDoubleArray:eqn withJavaLangDoubleArray:res];
}

- (id)init {
  return [super init];
}

- (void)dealloc {
  [super dealloc];
}

@end
