//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: playn/core/gl/SurfaceLayerGL.java
//
//  Created by Thomas on 7/1/13.
//

#import "AbstractLayer.h"
#import "GLContext.h"
#import "GLShader.h"
#import "InternalTransform.h"
#import "LayerGL.h"
#import "Surface.h"
#import "SurfaceGL.h"
#import "Tint.h"
#import "SurfaceLayerGL.h"

@implementation PlaynCoreGlSurfaceLayerGL

- (PlaynCoreGlSurfaceGL *)surface_ {
  return surface__;
}
- (void)setSurface_:(PlaynCoreGlSurfaceGL *)surface_ {
  JreOperatorRetainedAssign(&surface__, self, surface_);
}
@synthesize surface_ = surface__;

- (id)initWithPlaynCoreGlGLContext:(PlaynCoreGlGLContext *)ctx
          withPlaynCoreGlSurfaceGL:(PlaynCoreGlSurfaceGL *)surface {
  if ((self = [super initWithPlaynCoreGlGLContext:ctx])) {
    self.surface_ = surface;
  }
  return self;
}

- (void)destroy {
  [super destroy];
  [((PlaynCoreGlSurfaceGL *) NIL_CHK(surface__)) destroy];
}

- (id<PlaynCoreSurface>)surface {
  return surface__;
}

- (void)paintWithPlaynCoreInternalTransform:(id<PlaynCoreInternalTransform>)parentTransform
                                    withInt:(int)curTint
                    withPlaynCoreGlGLShader:(PlaynCoreGlGLShader *)curShader {
  if (![self visible]) return;
  if (tint__ != PlaynCoreTint_NOOP_TINT) curTint = [PlaynCoreTint combineWithInt:curTint withInt:tint__];
  [((PlaynCoreGlSurfaceGL *) NIL_CHK(surface__)) drawWithPlaynCoreGlGLShader:(shader_ == nil) ? curShader : shader_ withPlaynCoreInternalTransform:[self localTransformWithPlaynCoreInternalTransform:parentTransform] withInt:curTint];
}

- (float)width {
  return [((PlaynCoreGlSurfaceGL *) NIL_CHK(surface__)) width];
}

- (float)height {
  return [((PlaynCoreGlSurfaceGL *) NIL_CHK(surface__)) height];
}

- (float)scaledWidth {
  return [self scaleX] * [self width];
}

- (float)scaledHeight {
  return [self scaleY] * [self height];
}

- (void)dealloc {
  JreOperatorRetainedAssign(&surface__, self, nil);
  [super dealloc];
}

- (void)copyAllPropertiesTo:(id)copy {
  [super copyAllPropertiesTo:copy];
  PlaynCoreGlSurfaceLayerGL *typedCopy = (PlaynCoreGlSurfaceLayerGL *) copy;
  typedCopy.surface_ = surface__;
}

@end
