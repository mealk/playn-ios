//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: C:\Users\Thomas\Documents\Eclipse\Tux\playn-samples\hello\core\src\main\java\playn\sample\hello\core\HelloGame.java
//
//  Created by Thomas on 7/1/13.
//

#import "java/util/ArrayList.h"
#import "java/util/Iterator.h"
#import "java/util/List.h"
#import "playn/core/Assets.h"
#import "playn/core/Game.h"
#import "playn/core/Graphics.h"
#import "playn/core/GroupLayer.h"
#import "playn/core/Image.h"
#import "playn/core/ImageLayer.h"
#import "playn/core/PlayN.h"
#import "playn/core/Pointer.h"
#import "HelloGame.h"
#import "Pea.h"

@implementation PlaynSampleHelloCoreHelloGame

- (id<PlaynCoreGroupLayer>)peaLayer {
  return peaLayer_;
}
- (void)setPeaLayer:(id<PlaynCoreGroupLayer>)peaLayer {
  JreOperatorRetainedAssign(&peaLayer_, self, peaLayer);
}
@synthesize peaLayer = peaLayer_;
- (id<JavaUtilList>)peas {
  return peas_;
}
- (void)setPeas:(id<JavaUtilList>)peas {
  JreOperatorRetainedAssign(&peas_, self, peas);
}
@synthesize peas = peas_;

+ (int)UPDATE_RATE {
  return PlaynSampleHelloCoreHelloGame_UPDATE_RATE;
}

- (id)init {
  if ((self = [super initWithInt:PlaynSampleHelloCoreHelloGame_UPDATE_RATE])) {
    JreOperatorRetainedAssign(&peas_, self, [[[JavaUtilArrayList alloc] initWithInt:0] autorelease]);
  }
  return self;
}

- (void)init__ OBJC_METHOD_FAMILY_NONE {
  id<PlaynCoreImage> bgImage = [((id<PlaynCoreAssets>) [PlaynCorePlayN assets]) getImageWithNSString:@"images/bg.png"];
  id<PlaynCoreImageLayer> bgLayer = [((id<PlaynCoreGraphics>) [PlaynCorePlayN graphics]) createImageLayerWithPlaynCoreImage:bgImage];
  [((id<PlaynCoreGroupLayer>) [((id<PlaynCoreGraphics>) [PlaynCorePlayN graphics]) rootLayer]) addWithPlaynCoreLayer:bgLayer];
  JreOperatorRetainedAssign(&peaLayer_, self, [((id<PlaynCoreGraphics>) [PlaynCorePlayN graphics]) createGroupLayer]);
  [((id<PlaynCoreGroupLayer>) [((id<PlaynCoreGraphics>) [PlaynCorePlayN graphics]) rootLayer]) addWithPlaynCoreLayer:peaLayer_];
  (void) [((id<PlaynCoreAssets>) [PlaynCorePlayN assets]) getImageWithNSString:[PlaynSampleHelloCorePea IMAGE]];
  [((id<PlaynCorePointer>) [PlaynCorePlayN pointer]) setListenerWithPlaynCorePointer_Listener:[[[PlaynSampleHelloCoreHelloGame_$1 alloc] initWithPlaynSampleHelloCoreHelloGame:self] autorelease]];
    
    PlaynSampleHelloCorePea *pea = [[PlaynSampleHelloCorePea alloc] initWithPlaynCoreGroupLayer:peaLayer_ withFloat:100 withFloat:100];
    [((id<JavaUtilList>) NIL_CHK(peas_)) addWithId:pea];
}

- (void)updateWithInt:(int)delta {
  {
    id<JavaUtilIterator> iter__ = ((id<JavaUtilIterator>) [((id<JavaUtilList>) NIL_CHK(peas_)) iterator]);
    while ([((id<JavaUtilIterator>) NIL_CHK(iter__)) hasNext]) {
      PlaynSampleHelloCorePea *pea = ((PlaynSampleHelloCorePea *) [((id<JavaUtilIterator>) NIL_CHK(iter__)) next]);
      [((PlaynSampleHelloCorePea *) NIL_CHK(pea)) updateWithInt:delta];
    }
  }
}

- (void)paintWithFloat:(float)alpha {
  {
    id<JavaUtilIterator> iter__ = ((id<JavaUtilIterator>) [((id<JavaUtilList>) NIL_CHK(peas_)) iterator]);
    while ([((id<JavaUtilIterator>) NIL_CHK(iter__)) hasNext]) {
      PlaynSampleHelloCorePea *pea = ((PlaynSampleHelloCorePea *) [((id<JavaUtilIterator>) NIL_CHK(iter__)) next]);
      [((PlaynSampleHelloCorePea *) NIL_CHK(pea)) paintWithFloat:alpha];
    }
  }
}

- (void)dealloc {
  JreOperatorRetainedAssign(&peas_, self, nil);
  JreOperatorRetainedAssign(&peaLayer_, self, nil);
  [super dealloc];
}

- (void)copyAllPropertiesTo:(id)copy {
  [super copyAllPropertiesTo:copy];
  PlaynSampleHelloCoreHelloGame *typedCopy = (PlaynSampleHelloCoreHelloGame *) copy;
  typedCopy.peaLayer = peaLayer_;
  typedCopy.peas = peas_;
}

@end
@implementation PlaynSampleHelloCoreHelloGame_$1

- (PlaynSampleHelloCoreHelloGame *)this$0 {
  return this$0_;
}
- (void)setThis$0:(PlaynSampleHelloCoreHelloGame *)this$0 {
  JreOperatorRetainedAssign(&this$0_, self, this$0);
}
@synthesize this$0 = this$0_;

- (void)onPointerEndWithPlaynCorePointer_Event:(id<PlaynCorePointer_Event>)event {
  PlaynSampleHelloCorePea *pea = [[[PlaynSampleHelloCorePea alloc] initWithPlaynCoreGroupLayer:this$0_.peaLayer withFloat:[((id<PlaynCorePointer_Event>) NIL_CHK(event)) x] withFloat:[((id<PlaynCorePointer_Event>) NIL_CHK(event)) y]] autorelease];
  [((id<JavaUtilList>) NIL_CHK(this$0_.peas)) addWithId:pea];
}

- (id)initWithPlaynSampleHelloCoreHelloGame:(PlaynSampleHelloCoreHelloGame *)outer$ {
  if ((self = [super init])) {
    JreOperatorRetainedAssign(&this$0_, self, outer$);
  }
  return self;
}

- (void)dealloc {
  JreOperatorRetainedAssign(&this$0_, self, nil);
  [super dealloc];
}

- (void)copyAllPropertiesTo:(id)copy {
  [super copyAllPropertiesTo:copy];
  PlaynSampleHelloCoreHelloGame_$1 *typedCopy = (PlaynSampleHelloCoreHelloGame_$1 *) copy;
  typedCopy.this$0 = this$0_;
}

@end
