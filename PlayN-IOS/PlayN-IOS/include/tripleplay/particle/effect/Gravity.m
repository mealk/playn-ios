//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: tripleplay/particle/effect/Gravity.java
//
//  Created by Thomas on 7/10/13.
//

#import "IOSFloatArray.h"
#import "playn/core/Graphics.h"
#import "playn/core/PlayN.h"
#import "playn/core/gl/GLContext.h"
#import "playn/core/gl/Scale.h"
#import "tripleplay/particle/ParticleBuffer.h"
#import "tripleplay/particle/effect/Gravity.h"

@implementation TripleplayParticleEffectGravity

@synthesize _accel = _accel_;

+ (float)EARTH_G {
  return TripleplayParticleEffectGravity_EARTH_G;
}

- (id)init {
  return [self initTripleplayParticleEffectGravityWithFloat:TripleplayParticleEffectGravity_EARTH_G];
}

- (id)initTripleplayParticleEffectGravityWithFloat:(float)accel {
  if ((self = [super init])) {
    _accel_ = accel * ((PlaynCoreGlScale *) NIL_CHK([((id<PlaynCoreGraphics>) [PlaynCorePlayN graphics]) ctx].scale_)).factor;
  }
  return self;
}

- (id)initWithFloat:(float)accel {
  return [self initTripleplayParticleEffectGravityWithFloat:accel];
}

- (void)applyWithInt:(int)index
withJavaLangFloatArray:(IOSFloatArray *)data
             withInt:(int)start
           withFloat:(float)now
           withFloat:(float)dt {
  [((IOSFloatArray *) NIL_CHK(data)) replaceFloatAtIndex:start + TripleplayParticleParticleBuffer_VEL_Y withFloat:[data floatAtIndex:start + TripleplayParticleParticleBuffer_VEL_Y] + _accel_ * dt];
}

- (void)copyAllPropertiesTo:(id)copy {
  [super copyAllPropertiesTo:copy];
  TripleplayParticleEffectGravity *typedCopy = (TripleplayParticleEffectGravity *) copy;
  typedCopy._accel = _accel_;
}

@end
