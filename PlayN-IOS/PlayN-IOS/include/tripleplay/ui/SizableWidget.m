//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: tripleplay/ui/SizableWidget.java
//
//  Created by Thomas on 7/25/13.
//

#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "pythagoras/f/IDimension.h"
#include "react/Connection.h"
#include "react/UnitSlot.h"
#include "tripleplay/ui/Element.h"
#include "tripleplay/ui/Log.h"
#include "tripleplay/ui/SizableWidget.h"
#include "tripleplay/ui/Widget.h"
#include "tripleplay/util/DimensionValue.h"
#include "tripleplay/util/Logger.h"

@implementation TripleplayUiSizableWidget

@synthesize preferredSize = preferredSize_;

- (id)init {
  return [self initTripleplayUiSizableWidgetWithFloat:0 withFloat:0];
}

- (id)initWithPythagorasFIDimension:(id<PythagorasFIDimension>)size {
  return [self initTripleplayUiSizableWidgetWithFloat:[((id<PythagorasFIDimension>) nil_chk(size)) width] withFloat:[((id<PythagorasFIDimension>) nil_chk(size)) height]];
}

- (id)initTripleplayUiSizableWidgetWithFloat:(float)width
                                   withFloat:(float)height {
  if ((self = [super init])) {
    preferredSize_ = [[TripleplayUtilDimensionValue alloc] initWithFloat:0 withFloat:0];
    [((TripleplayUtilDimensionValue *) nil_chk(preferredSize_)) updateWithFloat:width withFloat:height];
    (void) [((TripleplayUtilDimensionValue *) nil_chk(preferredSize_)) connectWithReactValueView_Listener:[self invalidateSlot]];
  }
  return self;
}

- (id)initWithFloat:(float)width
          withFloat:(float)height {
  return [self initTripleplayUiSizableWidgetWithFloat:width withFloat:height];
}

- (TripleplayUiElement_BaseLayoutData *)createBaseLayoutDataWithFloat:(float)hintX
                                                            withFloat:(float)hintY {
  return nil;
}

- (TripleplayUiElement_LayoutData *)createLayoutDataWithFloat:(float)hintX
                                                    withFloat:(float)hintY {
  return [[TripleplayUiElement_SizableLayoutData alloc] initWithTripleplayUiElement:self withTripleplayUiElement_BaseLayoutData:[self createBaseLayoutDataWithFloat:hintX withFloat:hintY] withTripleplayUiElement_LayoutData:nil withPythagorasFIDimension:[((TripleplayUtilDimensionValue *) nil_chk(preferredSize_)) get]];
}

- (TripleplayUiWidget_Glyph *)prepareGlyph {
  return [self prepareGlyphWithTripleplayUiWidget_Glyph:nil];
}

- (TripleplayUiWidget_Glyph *)prepareGlyphWithTripleplayUiWidget_Glyph:(TripleplayUiWidget_Glyph *)glyph {
  id<PythagorasFIDimension> size = [((TripleplayUtilDimensionValue *) nil_chk(preferredSize_)) get];
  if ([((id<PythagorasFIDimension>) nil_chk(size)) width] == 0 || [((id<PythagorasFIDimension>) nil_chk(size)) height] == 0) {
    [((TripleplayUtilLogger *) nil_chk([TripleplayUiLog log])) warningWithNSString:@"SizableWidget cannot prepare a glyph with a 0 dimension" withNSObjectArray:[IOSObjectArray arrayWithObjects:(id[]){ @"size", size } count:2 type:[IOSClass classWithClass:[NSObject class]]]];
    return nil;
  }
  glyph = glyph == nil ? [[TripleplayUiWidget_Glyph alloc] initWithTripleplayUiWidget:self] : glyph;
  [((TripleplayUiWidget_Glyph *) nil_chk(glyph)) prepareWithPythagorasFIDimension:size];
  return glyph;
}

- (void)copyAllPropertiesTo:(id)copy {
  [super copyAllPropertiesTo:copy];
  TripleplayUiSizableWidget *typedCopy = (TripleplayUiSizableWidget *) copy;
  typedCopy.preferredSize = preferredSize_;
}

@end
