//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: tripleplay/ui/ToggleButton.java
//
//  Created by Thomas on 7/25/13.
//

#include "IOSClass.h"
#include "playn/core/Pointer.h"
#include "playn/core/Sound.h"
#include "react/Connection.h"
#include "react/Signal.h"
#include "react/SignalView.h"
#include "react/Slot.h"
#include "react/UnitSlot.h"
#include "react/Value.h"
#include "tripleplay/ui/Element.h"
#include "tripleplay/ui/Icon.h"
#include "tripleplay/ui/Style.h"
#include "tripleplay/ui/TextWidget.h"
#include "tripleplay/ui/ToggleButton.h"

@implementation TripleplayUiToggleButton

@synthesize text_ = text__;
@synthesize icon_ = icon__;
@synthesize _clicked = _clicked_;
@synthesize _actionSound = _actionSound_;

- (id)init {
  return [self initTripleplayUiToggleButtonWithNSString:nil withTripleplayUiIcon:nil];
}

- (id)initWithNSString:(NSString *)text {
  return [self initTripleplayUiToggleButtonWithNSString:text withTripleplayUiIcon:nil];
}

- (id)initWithTripleplayUiIcon:(id<TripleplayUiIcon>)icon {
  return [self initTripleplayUiToggleButtonWithNSString:nil withTripleplayUiIcon:icon];
}

- (id)initTripleplayUiToggleButtonWithNSString:(NSString *)text
                          withTripleplayUiIcon:(id<TripleplayUiIcon>)icon {
  if ((self = [super init])) {
    text__ = [ReactValue createWithId:nil];
    icon__ = [ReactValue createWithId:nil];
    _clicked_ = [ReactSignal create];
    (void) [((ReactValue *) nil_chk(self.text_)) updateWithId:text];
    (void) [((ReactValue *) nil_chk(self.icon_)) updateWithId:icon];
    (void) [((ReactValue *) nil_chk(self.text_)) connectWithReactValueView_Listener:[self textDidChange]];
    (void) [((ReactValue *) nil_chk(self.icon_)) connectWithReactValueView_Listener:[self iconDidChange]];
  }
  return self;
}

- (id)initWithNSString:(NSString *)text
  withTripleplayUiIcon:(id<TripleplayUiIcon>)icon {
  return [self initTripleplayUiToggleButtonWithNSString:text withTripleplayUiIcon:icon];
}

- (id<ReactSignalView>)clicked {
  return _clicked_;
}

- (NSString *)description {
  return [NSString stringWithFormat:@"ToggleButton(%@)", [((ReactValue *) nil_chk(text__)) get]];
}

- (IOSClass *)getStyleClass {
  return [IOSClass classWithClass:[TripleplayUiToggleButton class]];
}

- (NSString *)text {
  return [((ReactValue *) nil_chk(text__)) get];
}

- (id<TripleplayUiIcon>)icon {
  return [((ReactValue *) nil_chk(icon__)) get];
}

- (void)layout {
  [super layout];
  _actionSound_ = [self resolveStyleWithTripleplayUiStyle:[TripleplayUiStyle ACTION_SOUND]];
}

- (void)onClickWithPlaynCorePointer_Event:(id<PlaynCorePointer_Event>)event {
  if (_actionSound_ != nil) [_actionSound_ play];
  [((ReactSignal *) nil_chk(_clicked_)) emitWithId:self];
}

- (void)copyAllPropertiesTo:(id)copy {
  [super copyAllPropertiesTo:copy];
  TripleplayUiToggleButton *typedCopy = (TripleplayUiToggleButton *) copy;
  typedCopy.text_ = text__;
  typedCopy.icon_ = icon__;
  typedCopy._clicked = _clicked_;
  typedCopy._actionSound = _actionSound_;
}

@end
