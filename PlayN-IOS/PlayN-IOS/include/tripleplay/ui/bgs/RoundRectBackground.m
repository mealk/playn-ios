//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: tripleplay/ui/bgs/RoundRectBackground.java
//
//  Created by Thomas on 7/25/13.
//

#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "java/lang/Float.h"
#include "playn/core/Canvas.h"
#include "playn/core/CanvasImage.h"
#include "playn/core/Graphics.h"
#include "playn/core/ImageLayer.h"
#include "playn/core/Layer.h"
#include "playn/core/PlayN.h"
#include "pythagoras/f/IDimension.h"
#include "tripleplay/ui/Background.h"
#include "tripleplay/ui/bgs/RoundRectBackground.h"

@implementation TripleplayUiBgsRoundRectBackground

@synthesize _bgColor = _bgColor_;
@synthesize _borderColor = _borderColor_;
@synthesize _radius = _radius_;
@synthesize _borderWidth = _borderWidth_;
@synthesize _borderRadius = _borderRadius_;

- (id)initWithInt:(int)bgColor
        withFloat:(float)radius {
  return [self initTripleplayUiBgsRoundRectBackgroundWithInt:bgColor withFloat:radius withInt:0 withFloat:0];
}

- (id)initTripleplayUiBgsRoundRectBackgroundWithInt:(int)bgColor
                                          withFloat:(float)radius
                                            withInt:(int)borderColor
                                          withFloat:(float)borderWidth {
  return [self initTripleplayUiBgsRoundRectBackgroundWithInt:bgColor withFloat:radius withInt:borderColor withFloat:borderWidth withFloat:radius];
}

- (id)initWithInt:(int)bgColor
        withFloat:(float)radius
          withInt:(int)borderColor
        withFloat:(float)borderWidth {
  return [self initTripleplayUiBgsRoundRectBackgroundWithInt:bgColor withFloat:radius withInt:borderColor withFloat:borderWidth];
}

- (id)initTripleplayUiBgsRoundRectBackgroundWithInt:(int)bgColor
                                          withFloat:(float)radius
                                            withInt:(int)borderColor
                                          withFloat:(float)borderWidth
                                          withFloat:(float)borderRadius {
  if ((self = [super init])) {
    _bgColor_ = bgColor;
    _radius_ = radius;
    _borderColor_ = borderColor;
    _borderWidth_ = borderWidth;
    _borderRadius_ = borderRadius;
  }
  return self;
}

- (id)initWithInt:(int)bgColor
        withFloat:(float)radius
          withInt:(int)borderColor
        withFloat:(float)borderWidth
        withFloat:(float)borderRadius {
  return [self initTripleplayUiBgsRoundRectBackgroundWithInt:bgColor withFloat:radius withInt:borderColor withFloat:borderWidth withFloat:borderRadius];
}

- (TripleplayUiBackground_Instance *)instantiateWithPythagorasFIDimension:(id<PythagorasFIDimension>)size {
  id<PlaynCoreCanvasImage> image = [((id<PlaynCoreGraphics>) nil_chk([PlaynCorePlayN graphics])) createImageWithFloat:[((id<PythagorasFIDimension>) nil_chk(size)) width] withFloat:[((id<PythagorasFIDimension>) nil_chk(size)) height]];
  if (_borderWidth_ > 0) {
    (void) [((id<PlaynCoreCanvas>) nil_chk([((id<PlaynCoreCanvasImage>) nil_chk(image)) canvas])) setFillColorWithInt:_borderColor_];
    (void) [((id<PlaynCoreCanvas>) nil_chk([((id<PlaynCoreCanvasImage>) nil_chk(image)) canvas])) fillRoundRectWithFloat:0 withFloat:0 withFloat:[((id<PythagorasFIDimension>) nil_chk(size)) width] withFloat:[((id<PythagorasFIDimension>) nil_chk(size)) height] withFloat:_radius_];
    float iwidth = [((id<PythagorasFIDimension>) nil_chk(size)) width] - 2 * _borderWidth_, iheight = [((id<PythagorasFIDimension>) nil_chk(size)) height] - 2 * _borderWidth_;
    float iradius = _borderRadius_ * (iheight / [((id<PythagorasFIDimension>) nil_chk(size)) height]);
    (void) [((id<PlaynCoreCanvas>) nil_chk([((id<PlaynCoreCanvasImage>) nil_chk(image)) canvas])) setFillColorWithInt:_bgColor_];
    (void) [((id<PlaynCoreCanvas>) nil_chk([((id<PlaynCoreCanvasImage>) nil_chk(image)) canvas])) fillRoundRectWithFloat:_borderWidth_ withFloat:_borderWidth_ withFloat:iwidth withFloat:iheight withFloat:iradius];
  }
  else {
    (void) [((id<PlaynCoreCanvas>) nil_chk([((id<PlaynCoreCanvasImage>) nil_chk(image)) canvas])) setFillColorWithInt:_bgColor_];
    (void) [((id<PlaynCoreCanvas>) nil_chk([((id<PlaynCoreCanvasImage>) nil_chk(image)) canvas])) fillRoundRectWithFloat:0 withFloat:0 withFloat:[((id<PythagorasFIDimension>) nil_chk(size)) width] withFloat:[((id<PythagorasFIDimension>) nil_chk(size)) height] withFloat:_radius_];
  }
  id<PlaynCoreImageLayer> layer = [((id<PlaynCoreGraphics>) nil_chk([PlaynCorePlayN graphics])) createImageLayerWithPlaynCoreImage:image];
  if (alpha__ != nil) (void) [((id<PlaynCoreImageLayer>) nil_chk(layer)) setAlphaWithFloat:[alpha__ floatValue]];
  return [[TripleplayUiBackground_LayerInstance alloc] initWithTripleplayUiBackground:self withPythagorasFIDimension:size withPlaynCoreLayerArray:[IOSObjectArray arrayWithObjects:(id[]){ layer } count:1 type:[IOSClass classWithProtocol:@protocol(PlaynCoreLayer)]]];
}

- (void)copyAllPropertiesTo:(id)copy {
  [super copyAllPropertiesTo:copy];
  TripleplayUiBgsRoundRectBackground *typedCopy = (TripleplayUiBgsRoundRectBackground *) copy;
  typedCopy._bgColor = _bgColor_;
  typedCopy._borderColor = _borderColor_;
  typedCopy._radius = _radius_;
  typedCopy._borderWidth = _borderWidth_;
  typedCopy._borderRadius = _borderRadius_;
}

@end
