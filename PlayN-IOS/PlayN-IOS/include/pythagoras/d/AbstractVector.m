//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: pythagoras/d/AbstractVector.java
//
//  Created by Thomas on 7/25/13.
//

#include "java/lang/Math.h"
#include "pythagoras/d/AbstractVector.h"
#include "pythagoras/d/IVector.h"
#include "pythagoras/d/Vector.h"
#include "pythagoras/d/Vectors.h"
#include "pythagoras/d/XY.h"
#include "pythagoras/util/Platform.h"

@implementation PythagorasDAbstractVector

- (double)dotWithPythagorasDIVector:(id<PythagorasDIVector>)other {
  return [self x] * [((id<PythagorasDIVector>) nil_chk(other)) x] + [self y] * [((id<PythagorasDIVector>) nil_chk(other)) y];
}

- (PythagorasDVector *)crossWithPythagorasDIVector:(id<PythagorasDIVector>)other {
  return [self crossWithPythagorasDIVector:other withPythagorasDVector:[[PythagorasDVector alloc] init]];
}

- (PythagorasDVector *)crossWithPythagorasDIVector:(id<PythagorasDIVector>)other
                             withPythagorasDVector:(PythagorasDVector *)result {
  double x = [self x], y = [self y], ox = [((id<PythagorasDIVector>) nil_chk(other)) x], oy = [((id<PythagorasDIVector>) nil_chk(other)) y];
  return [((PythagorasDVector *) nil_chk(result)) setWithDouble:y * ox - x * oy withDouble:x * oy - y * ox];
}

- (PythagorasDVector *)negate {
  return [self negateWithPythagorasDVector:[[PythagorasDVector alloc] init]];
}

- (PythagorasDVector *)negateWithPythagorasDVector:(PythagorasDVector *)result {
  return [((PythagorasDVector *) nil_chk(result)) setWithDouble:-[self x] withDouble:-[self y]];
}

- (PythagorasDVector *)normalize {
  return [self normalizeWithPythagorasDVector:[[PythagorasDVector alloc] init]];
}

- (PythagorasDVector *)normalizeWithPythagorasDVector:(PythagorasDVector *)result {
  return [self scale__WithDouble:1.0f / [self length] withPythagorasDVector:result];
}

- (double)length {
  return [JavaLangMath sqrtWithDouble:[self lengthSq]];
}

- (double)lengthSq {
  double x = [self x], y = [self y];
  return (x * x + y * y);
}

- (BOOL)isZero {
  return [PythagorasDVectors isZeroWithDouble:[self x] withDouble:[self y]];
}

- (double)distanceWithPythagorasDIVector:(id<PythagorasDIVector>)other {
  return [JavaLangMath sqrtWithDouble:[self distanceSqWithPythagorasDIVector:other]];
}

- (double)distanceSqWithPythagorasDIVector:(id<PythagorasDIVector>)other {
  double dx = [self x] - [((id<PythagorasDIVector>) nil_chk(other)) x], dy = [self y] - [((id<PythagorasDIVector>) nil_chk(other)) y];
  return dx * dx + dy * dy;
}

- (double)angle {
  return [JavaLangMath atan2WithDouble:[self y] withDouble:[self x]];
}

- (double)angleBetweenWithPythagorasDIVector:(id<PythagorasDIVector>)other {
  double cos = [self dotWithPythagorasDIVector:other] / ([self length] * [((id<PythagorasDIVector>) nil_chk(other)) length]);
  return cos >= 1.0f ? 0.0f : [JavaLangMath acosWithDouble:cos];
}

- (PythagorasDVector *)scale__WithDouble:(double)v {
  return [self scale__WithDouble:v withPythagorasDVector:[[PythagorasDVector alloc] init]];
}

- (PythagorasDVector *)scale__WithDouble:(double)v
                   withPythagorasDVector:(PythagorasDVector *)result {
  return [((PythagorasDVector *) nil_chk(result)) setWithDouble:[self x] * v withDouble:[self y] * v];
}

- (PythagorasDVector *)scale__WithPythagorasDIVector:(id<PythagorasDIVector>)other {
  return [self scale__WithPythagorasDIVector:other withPythagorasDVector:[[PythagorasDVector alloc] init]];
}

- (PythagorasDVector *)scale__WithPythagorasDIVector:(id<PythagorasDIVector>)other
                               withPythagorasDVector:(PythagorasDVector *)result {
  return [((PythagorasDVector *) nil_chk(result)) setWithDouble:[self x] * [((id<PythagorasDIVector>) nil_chk(other)) x] withDouble:[self y] * [((id<PythagorasDIVector>) nil_chk(other)) y]];
}

- (PythagorasDVector *)addWithPythagorasDIVector:(id<PythagorasDIVector>)other {
  return [self addWithPythagorasDIVector:other withPythagorasDVector:[[PythagorasDVector alloc] init]];
}

- (PythagorasDVector *)addWithPythagorasDIVector:(id<PythagorasDIVector>)other
                           withPythagorasDVector:(PythagorasDVector *)result {
  return [self addWithDouble:[((id<PythagorasDIVector>) nil_chk(other)) x] withDouble:[((id<PythagorasDIVector>) nil_chk(other)) y] withPythagorasDVector:result];
}

- (PythagorasDVector *)subtractWithPythagorasDIVector:(id<PythagorasDIVector>)other {
  return [self subtractWithPythagorasDIVector:other withPythagorasDVector:[[PythagorasDVector alloc] init]];
}

- (PythagorasDVector *)subtractWithPythagorasDIVector:(id<PythagorasDIVector>)other
                                withPythagorasDVector:(PythagorasDVector *)result {
  return [self addWithDouble:-[((id<PythagorasDIVector>) nil_chk(other)) x] withDouble:-[((id<PythagorasDIVector>) nil_chk(other)) y] withPythagorasDVector:result];
}

- (PythagorasDVector *)addWithDouble:(double)x
                          withDouble:(double)y {
  return [self addWithDouble:x withDouble:y withPythagorasDVector:[[PythagorasDVector alloc] init]];
}

- (PythagorasDVector *)addWithDouble:(double)x
                          withDouble:(double)y
               withPythagorasDVector:(PythagorasDVector *)result {
  return [((PythagorasDVector *) nil_chk(result)) setWithDouble:[self x] + x withDouble:[self y] + y];
}

- (PythagorasDVector *)subtractWithDouble:(double)x
                               withDouble:(double)y {
  return [self subtractWithDouble:x withDouble:y withPythagorasDVector:[[PythagorasDVector alloc] init]];
}

- (PythagorasDVector *)subtractWithDouble:(double)x
                               withDouble:(double)y
                    withPythagorasDVector:(PythagorasDVector *)result {
  return [((PythagorasDVector *) nil_chk(result)) setWithDouble:[self x] - x withDouble:[self y] - y];
}

- (PythagorasDVector *)addScaledWithPythagorasDIVector:(id<PythagorasDIVector>)other
                                            withDouble:(double)v {
  return [self addScaledWithPythagorasDIVector:other withDouble:v withPythagorasDVector:[[PythagorasDVector alloc] init]];
}

- (PythagorasDVector *)addScaledWithPythagorasDIVector:(id<PythagorasDIVector>)other
                                            withDouble:(double)v
                                 withPythagorasDVector:(PythagorasDVector *)result {
  return [((PythagorasDVector *) nil_chk(result)) setWithDouble:[self x] + [((id<PythagorasDIVector>) nil_chk(other)) x] * v withDouble:[self y] + [((id<PythagorasDIVector>) nil_chk(other)) y] * v];
}

- (PythagorasDVector *)rotateWithDouble:(double)angle {
  return [self rotateWithDouble:angle withPythagorasDVector:[[PythagorasDVector alloc] init]];
}

- (PythagorasDVector *)rotateWithDouble:(double)angle
                  withPythagorasDVector:(PythagorasDVector *)result {
  double x = [self x], y = [self y];
  double sina = [JavaLangMath sinWithDouble:angle], cosa = [JavaLangMath cosWithDouble:angle];
  return [((PythagorasDVector *) nil_chk(result)) setWithDouble:x * cosa - y * sina withDouble:x * sina + y * cosa];
}

- (PythagorasDVector *)rotateAndAddWithDouble:(double)angle
                       withPythagorasDIVector:(id<PythagorasDIVector>)add
                        withPythagorasDVector:(PythagorasDVector *)result {
  double x = [self x], y = [self y];
  double sina = [JavaLangMath sinWithDouble:angle], cosa = [JavaLangMath cosWithDouble:angle];
  return [((PythagorasDVector *) nil_chk(result)) setWithDouble:x * cosa - y * sina + [((id<PythagorasDIVector>) nil_chk(add)) x] withDouble:x * sina + y * cosa + [((id<PythagorasDIVector>) nil_chk(add)) y]];
}

- (PythagorasDVector *)rotateScaleAndAddWithDouble:(double)angle
                                        withDouble:(double)scale_
                            withPythagorasDIVector:(id<PythagorasDIVector>)add
                             withPythagorasDVector:(PythagorasDVector *)result {
  double x = [self x], y = [self y];
  double sina = [JavaLangMath sinWithDouble:angle], cosa = [JavaLangMath cosWithDouble:angle];
  return [((PythagorasDVector *) nil_chk(result)) setWithDouble:(x * cosa - y * sina) * scale_ + [((id<PythagorasDIVector>) nil_chk(add)) x] withDouble:(x * sina + y * cosa) * scale_ + [((id<PythagorasDIVector>) nil_chk(add)) y]];
}

- (PythagorasDVector *)lerpWithPythagorasDIVector:(id<PythagorasDIVector>)other
                                       withDouble:(double)t {
  return [self lerpWithPythagorasDIVector:other withDouble:t withPythagorasDVector:[[PythagorasDVector alloc] init]];
}

- (PythagorasDVector *)lerpWithPythagorasDIVector:(id<PythagorasDIVector>)other
                                       withDouble:(double)t
                            withPythagorasDVector:(PythagorasDVector *)result {
  double x = [self x], y = [self y];
  double dx = [((id<PythagorasDIVector>) nil_chk(other)) x] - x, dy = [((id<PythagorasDIVector>) nil_chk(other)) y] - y;
  return [((PythagorasDVector *) nil_chk(result)) setWithDouble:x + t * dx withDouble:y + t * dy];
}

- (PythagorasDVector *)clone {
  return [[PythagorasDVector alloc] initWithPythagorasDIVector:self];
}

- (BOOL)isEqual:(id)obj {
  if (obj == self) {
    return YES;
  }
  if ([obj isKindOfClass:[PythagorasDAbstractVector class]]) {
    PythagorasDAbstractVector *p = (PythagorasDAbstractVector *) obj;
    return [self x] == [((PythagorasDAbstractVector *) nil_chk(p)) x] && [self y] == [((PythagorasDAbstractVector *) nil_chk(p)) y];
  }
  return NO;
}

- (NSUInteger)hash {
  return [PythagorasUtilPlatform hashCodeWithDouble:[self x]] ^ [PythagorasUtilPlatform hashCodeWithDouble:[self y]];
}

- (NSString *)description {
  return [PythagorasDVectors vectorToStringWithDouble:[self x] withDouble:[self y]];
}

- (double)x {
  // can't call an abstract method
  [self doesNotRecognizeSelector:_cmd];
  return 0;
}

- (double)y {
  // can't call an abstract method
  [self doesNotRecognizeSelector:_cmd];
  return 0;
}

- (id)init {
  return [super init];
}

@end
