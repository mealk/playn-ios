//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: pythagoras/f/QuadCurves.java
//
//  Created by Thomas on 7/25/13.
//

#include "IOSFloatArray.h"
#include "pythagoras/f/Crossing.h"
#include "pythagoras/f/IQuadCurve.h"
#include "pythagoras/f/Lines.h"
#include "pythagoras/f/QuadCurve.h"
#include "pythagoras/f/QuadCurves.h"

@implementation PythagorasFQuadCurves

+ (float)flatnessSqWithFloat:(float)x1
                   withFloat:(float)y1
                   withFloat:(float)ctrlx
                   withFloat:(float)ctrly
                   withFloat:(float)x2
                   withFloat:(float)y2 {
  return [PythagorasFLines pointSegDistSqWithFloat:ctrlx withFloat:ctrly withFloat:x1 withFloat:y1 withFloat:x2 withFloat:y2];
}

+ (float)flatnessSqWithFloatArray:(IOSFloatArray *)coords
                          withInt:(int)offset {
  return [PythagorasFLines pointSegDistSqWithFloat:[((IOSFloatArray *) nil_chk(coords)) floatAtIndex:offset + 2] withFloat:[((IOSFloatArray *) nil_chk(coords)) floatAtIndex:offset + 3] withFloat:[((IOSFloatArray *) nil_chk(coords)) floatAtIndex:offset + 0] withFloat:[((IOSFloatArray *) nil_chk(coords)) floatAtIndex:offset + 1] withFloat:[((IOSFloatArray *) nil_chk(coords)) floatAtIndex:offset + 4] withFloat:[((IOSFloatArray *) nil_chk(coords)) floatAtIndex:offset + 5]];
}

+ (float)flatnessWithFloat:(float)x1
                 withFloat:(float)y1
                 withFloat:(float)ctrlx
                 withFloat:(float)ctrly
                 withFloat:(float)x2
                 withFloat:(float)y2 {
  return [PythagorasFLines pointSegDistWithFloat:ctrlx withFloat:ctrly withFloat:x1 withFloat:y1 withFloat:x2 withFloat:y2];
}

+ (float)flatnessWithFloatArray:(IOSFloatArray *)coords
                        withInt:(int)offset {
  return [PythagorasFLines pointSegDistWithFloat:[((IOSFloatArray *) nil_chk(coords)) floatAtIndex:offset + 2] withFloat:[((IOSFloatArray *) nil_chk(coords)) floatAtIndex:offset + 3] withFloat:[((IOSFloatArray *) nil_chk(coords)) floatAtIndex:offset + 0] withFloat:[((IOSFloatArray *) nil_chk(coords)) floatAtIndex:offset + 1] withFloat:[((IOSFloatArray *) nil_chk(coords)) floatAtIndex:offset + 4] withFloat:[((IOSFloatArray *) nil_chk(coords)) floatAtIndex:offset + 5]];
}

+ (void)subdivideWithPythagorasFIQuadCurve:(id<PythagorasFIQuadCurve>)src
                  withPythagorasFQuadCurve:(PythagorasFQuadCurve *)left
                  withPythagorasFQuadCurve:(PythagorasFQuadCurve *)right {
  float x1 = [((id<PythagorasFIQuadCurve>) nil_chk(src)) x1];
  float y1 = [((id<PythagorasFIQuadCurve>) nil_chk(src)) y1];
  float cx = [((id<PythagorasFIQuadCurve>) nil_chk(src)) ctrlX];
  float cy = [((id<PythagorasFIQuadCurve>) nil_chk(src)) ctrlY];
  float x2 = [((id<PythagorasFIQuadCurve>) nil_chk(src)) x2];
  float y2 = [((id<PythagorasFIQuadCurve>) nil_chk(src)) y2];
  float cx1 = (x1 + cx) / 2.0f;
  float cy1 = (y1 + cy) / 2.0f;
  float cx2 = (x2 + cx) / 2.0f;
  float cy2 = (y2 + cy) / 2.0f;
  cx = (cx1 + cx2) / 2.0f;
  cy = (cy1 + cy2) / 2.0f;
  if (left != nil) {
    [left setCurveWithFloat:x1 withFloat:y1 withFloat:cx1 withFloat:cy1 withFloat:cx withFloat:cy];
  }
  if (right != nil) {
    [right setCurveWithFloat:cx withFloat:cy withFloat:cx2 withFloat:cy2 withFloat:x2 withFloat:y2];
  }
}

+ (void)subdivideWithFloatArray:(IOSFloatArray *)src
                        withInt:(int)srcoff
                 withFloatArray:(IOSFloatArray *)left
                        withInt:(int)leftOff
                 withFloatArray:(IOSFloatArray *)right
                        withInt:(int)rightOff {
  float x1 = [((IOSFloatArray *) nil_chk(src)) floatAtIndex:srcoff + 0];
  float y1 = [((IOSFloatArray *) nil_chk(src)) floatAtIndex:srcoff + 1];
  float cx = [((IOSFloatArray *) nil_chk(src)) floatAtIndex:srcoff + 2];
  float cy = [((IOSFloatArray *) nil_chk(src)) floatAtIndex:srcoff + 3];
  float x2 = [((IOSFloatArray *) nil_chk(src)) floatAtIndex:srcoff + 4];
  float y2 = [((IOSFloatArray *) nil_chk(src)) floatAtIndex:srcoff + 5];
  float cx1 = (x1 + cx) / 2.0f;
  float cy1 = (y1 + cy) / 2.0f;
  float cx2 = (x2 + cx) / 2.0f;
  float cy2 = (y2 + cy) / 2.0f;
  cx = (cx1 + cx2) / 2.0f;
  cy = (cy1 + cy2) / 2.0f;
  if (left != nil) {
    (*[left floatRefAtIndex:leftOff + 0]) = x1;
    (*[left floatRefAtIndex:leftOff + 1]) = y1;
    (*[left floatRefAtIndex:leftOff + 2]) = cx1;
    (*[left floatRefAtIndex:leftOff + 3]) = cy1;
    (*[left floatRefAtIndex:leftOff + 4]) = cx;
    (*[left floatRefAtIndex:leftOff + 5]) = cy;
  }
  if (right != nil) {
    (*[right floatRefAtIndex:rightOff + 0]) = cx;
    (*[right floatRefAtIndex:rightOff + 1]) = cy;
    (*[right floatRefAtIndex:rightOff + 2]) = cx2;
    (*[right floatRefAtIndex:rightOff + 3]) = cy2;
    (*[right floatRefAtIndex:rightOff + 4]) = x2;
    (*[right floatRefAtIndex:rightOff + 5]) = y2;
  }
}

+ (int)solveQuadraticWithFloatArray:(IOSFloatArray *)eqn {
  return [PythagorasFQuadCurves solveQuadraticWithFloatArray:eqn withFloatArray:eqn];
}

+ (int)solveQuadraticWithFloatArray:(IOSFloatArray *)eqn
                     withFloatArray:(IOSFloatArray *)res {
  return [PythagorasFCrossing solveQuadWithFloatArray:eqn withFloatArray:res];
}

- (id)init {
  return [super init];
}

@end
