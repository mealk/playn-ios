//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: playn/core/gl/LayerGL.java
//
//  Created by Thomas on 7/25/13.
//

#include "IOSClass.h"
#include "playn/core/AbstractLayer.h"
#include "playn/core/InternalTransform.h"
#include "playn/core/Layer.h"
#include "playn/core/gl/GLContext.h"
#include "playn/core/gl/GLShader.h"
#include "playn/core/gl/LayerGL.h"
#include "pythagoras/f/Transform.h"

@implementation PlaynCoreGlLayerGL

@synthesize savedLocal = savedLocal_;
@synthesize ctx = ctx_;
@synthesize shader = shader_;

- (id<PlaynCoreLayer>)setShaderWithPlaynCoreGlGLShader:(PlaynCoreGlGLShader *)shader {
  if (self.shader != nil) {
    [self.shader release__];
  }
  self.shader = shader;
  if (self.shader != nil) {
    [self.shader reference];
  }
  return self;
}

- (void)destroy {
  [super destroy];
  (void) [self setShaderWithPlaynCoreGlGLShader:nil];
}

- (id)initWithPlaynCoreGlGLContext:(PlaynCoreGlGLContext *)ctx {
  if ((self = [super initWithPlaynCoreInternalTransform:[((PlaynCoreGlGLContext *) nil_chk(ctx)) createTransform]])) {
    self.ctx = ctx;
    self.savedLocal = [((PlaynCoreGlGLContext *) nil_chk(ctx)) createTransform];
  }
  return self;
}

- (id<PlaynCoreInternalTransform>)localTransformWithPlaynCoreInternalTransform:(id<PlaynCoreInternalTransform>)parentTransform {
  (void) [((id<PlaynCoreInternalTransform>) nil_chk(savedLocal_)) setWithPythagorasFTransform:parentTransform];
  return [((id<PlaynCoreInternalTransform>) nil_chk(savedLocal_)) concatenateWithPythagorasFTransform:[self transform] withFloat:originX__ withFloat:originY__];
}

- (void)paintWithPlaynCoreInternalTransform:(id<PlaynCoreInternalTransform>)curTransform
                                    withInt:(int)curTint
                    withPlaynCoreGlGLShader:(PlaynCoreGlGLShader *)curShader {
  // can't call an abstract method
  [self doesNotRecognizeSelector:_cmd];
}

- (void)copyAllPropertiesTo:(id)copy {
  [super copyAllPropertiesTo:copy];
  PlaynCoreGlLayerGL *typedCopy = (PlaynCoreGlLayerGL *) copy;
  typedCopy.savedLocal = savedLocal_;
  typedCopy.ctx = ctx_;
  typedCopy.shader = shader_;
}

@end
