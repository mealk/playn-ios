//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: core/src/main/java/tuxkids/tuxblocks/core/defense/projectile/Projectile.java
//
//  Created by Thomas on 7/25/13.
//

#include "playn/core/Graphics.h"
#include "playn/core/Image.h"
#include "playn/core/ImageLayer.h"
#include "playn/core/Layer.h"
#include "pythagoras/f/Vector.h"
#include "tuxkids/tuxblocks/core/PlayNObject.h"
#include "tuxkids/tuxblocks/core/defense/Grid.h"
#include "tuxkids/tuxblocks/core/defense/GridObject.h"
#include "tuxkids/tuxblocks/core/defense/projectile/Projectile.h"
#include "tuxkids/tuxblocks/core/defense/tower/Tower.h"
#include "tuxkids/tuxblocks/core/defense/walker/Walker.h"

@implementation TuxkidsTuxblocksCoreDefenseProjectileProjectile

@synthesize layer_ = layer__;
@synthesize target_ = target__;
@synthesize damage = damage_;
@synthesize source_ = source__;

- (id<PlaynCoreImage>)createImage {
  // can't call an abstract method
  [self doesNotRecognizeSelector:_cmd];
  return 0;
}

- (id<PlaynCoreLayer>)layer {
  return layer__;
}

- (TuxkidsTuxblocksCoreDefenseWalkerWalker *)target {
  return target__;
}

- (TuxkidsTuxblocksCoreDefenseTowerTower *)source {
  return source__;
}

- (void)placeWithTuxkidsTuxblocksCoreDefenseGrid:(TuxkidsTuxblocksCoreDefenseGrid *)grid
     withTuxkidsTuxblocksCoreDefenseWalkerWalker:(TuxkidsTuxblocksCoreDefenseWalkerWalker *)target
       withTuxkidsTuxblocksCoreDefenseTowerTower:(TuxkidsTuxblocksCoreDefenseTowerTower *)source {
  [self placeWithTuxkidsTuxblocksCoreDefenseGrid:grid];
  self.target_ = target;
  self.source_ = source;
  self.damage = [((TuxkidsTuxblocksCoreDefenseTowerTower *) nil_chk(source)) damage];
  layer__ = [((id<PlaynCoreGraphics>) nil_chk([TuxkidsTuxblocksCorePlayNObject graphics])) createImageLayerWithPlaynCoreImage:[self createImage]];
  (void) [((id<PlaynCoreImageLayer>) nil_chk(layer__)) setDepthWithFloat:[((TuxkidsTuxblocksCoreDefenseGrid *) nil_chk(grid)) rows] * [((TuxkidsTuxblocksCoreDefenseGrid *) nil_chk(grid)) cols] * TuxkidsTuxblocksCoreDefenseGridObject_MAX_BASE_DEPTH];
}

- (BOOL)doUpdateWithInt:(int)delta {
  // can't call an abstract method
  [self doesNotRecognizeSelector:_cmd];
  return 0;
}

- (BOOL)updateWithInt:(int)delta {
  if ([self doUpdateWithInt:delta]) {
    [self onFinish];
    return YES;
  }
  return NO;
}

- (void)onFinish {
  [((id<PlaynCoreImageLayer>) nil_chk(layer__)) destroy];
}

- (void)dealDamage {
  [((TuxkidsTuxblocksCoreDefenseGrid *) nil_chk(grid_)) dealDamageWithTuxkidsTuxblocksCoreDefenseTowerTower:source__ withTuxkidsTuxblocksCoreDefenseWalkerWalker:target__ withFloat:damage_ withPythagorasFVector:[self getHitPosition]];
}

- (PythagorasFVector *)getHitPosition {
  return [((TuxkidsTuxblocksCoreDefenseWalkerWalker *) nil_chk(target__)) position];
}

- (id)init {
  return [super init];
}

- (void)copyAllPropertiesTo:(id)copy {
  [super copyAllPropertiesTo:copy];
  TuxkidsTuxblocksCoreDefenseProjectileProjectile *typedCopy = (TuxkidsTuxblocksCoreDefenseProjectileProjectile *) copy;
  typedCopy.layer_ = layer__;
  typedCopy.target_ = target__;
  typedCopy.damage = damage_;
  typedCopy.source_ = source__;
}

@end
