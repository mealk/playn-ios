//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: core/src/main/java/tuxkids/tuxblocks/core/solve/blocks/ModifierBlock.java
//
//  Created by Thomas on 7/10/13.
//

#import "IOSObjectArray.h"
#import "java/lang/Integer.h"
#import "playn/core/GroupLayer.h"
#import "playn/core/ImageLayer.h"
#import "playn/core/Layer.h"
#import "tuxkids/tuxblocks/core/solve/blocks/Block.h"
#import "tuxkids/tuxblocks/core/solve/blocks/ModifierBlock.h"
#import "tuxkids/tuxblocks/core/solve/expression/ModificationOperation.h"
#import "tuxkids/tuxblocks/core/utils/Formatter.h"

@implementation TuxkidsTuxblocksCoreSolveBlocksModifierBlock

@synthesize modifier = modifier_;
@synthesize inverseModifier = inverseModifier_;
@synthesize isInverted_ = isInverted__;
@synthesize inverseSprite = inverseSprite_;

- (TuxkidsTuxblocksCoreSolveExpressionModificationOperation *)getModifier {
  return isInverted__ ? inverseModifier_ : modifier_;
}

- (TuxkidsTuxblocksCoreSolveExpressionModificationOperation *)getOriginalModifier {
  return modifier_;
}

- (id<PlaynCoreImageLayer>)layer {
  return isInverted__ ? inverseSprite_ : layer__;
}

- (BOOL)isInverted {
  return isInverted__;
}

- (void)setInvertedWithBOOL:(BOOL)inverted {
  if (isInverted__ != inverted) {
    [self invert];
  }
}

- (id)initWithTuxkidsTuxblocksCoreSolveExpressionModificationOperation:(TuxkidsTuxblocksCoreSolveExpressionModificationOperation *)op
                                                               withInt:(int)width
                                                               withInt:(int)height {
  if ((self = [super init])) {
    self.modifier = op;
    inverseModifier_ = [((TuxkidsTuxblocksCoreSolveExpressionModificationOperation *) NIL_CHK(op)) getInverse];
    layer__ = [self generateSpriteWithInt:width withInt:height withNSString:[TuxkidsTuxblocksCoreUtilsFormatter formatWithNSString:@"%s%d" withNSObjectArray:[IOSObjectArray arrayWithType:[IOSClass classWithClass:[NSObject class]] count:2, [((TuxkidsTuxblocksCoreSolveExpressionModificationOperation *) NIL_CHK(op)) getSymbol], [JavaLangInteger valueOfWithInt:[((TuxkidsTuxblocksCoreSolveExpressionModificationOperation *) NIL_CHK(op)) getValue]] ]] withInt:[((TuxkidsTuxblocksCoreSolveExpressionModificationOperation *) NIL_CHK(op)) getColor]];
    inverseSprite_ = [self generateSpriteWithInt:width withInt:height withNSString:[TuxkidsTuxblocksCoreUtilsFormatter formatWithNSString:@"%s%d" withNSObjectArray:[IOSObjectArray arrayWithType:[IOSClass classWithClass:[NSObject class]] count:2, [((TuxkidsTuxblocksCoreSolveExpressionModificationOperation *) NIL_CHK(inverseModifier_)) getSymbol], [JavaLangInteger valueOfWithInt:[((TuxkidsTuxblocksCoreSolveExpressionModificationOperation *) NIL_CHK(inverseModifier_)) getValue]] ]] withInt:[((TuxkidsTuxblocksCoreSolveExpressionModificationOperation *) NIL_CHK(inverseModifier_)) getColor]];
  }
  return self;
}

- (void)invert {
  isInverted__ = !isInverted__;
  if (isInverted__) {
    [((id<PlaynCoreGroupLayer>) [((id<PlaynCoreImageLayer>) NIL_CHK(layer__)) parent]) addWithPlaynCoreLayer:inverseSprite_];
    [((id<PlaynCoreGroupLayer>) [((id<PlaynCoreImageLayer>) NIL_CHK(layer__)) parent]) removeWithPlaynCoreLayer:layer__];
    (void) [((id<PlaynCoreImageLayer>) NIL_CHK(inverseSprite_)) setTranslationWithFloat:[((id<PlaynCoreImageLayer>) NIL_CHK(layer__)) tx] withFloat:[((id<PlaynCoreImageLayer>) NIL_CHK(layer__)) ty]];
  }
  else {
    [((id<PlaynCoreGroupLayer>) [((id<PlaynCoreImageLayer>) NIL_CHK(inverseSprite_)) parent]) addWithPlaynCoreLayer:layer__];
    [((id<PlaynCoreGroupLayer>) [((id<PlaynCoreImageLayer>) NIL_CHK(inverseSprite_)) parent]) removeWithPlaynCoreLayer:inverseSprite_];
    (void) [((id<PlaynCoreImageLayer>) NIL_CHK(layer__)) setTranslationWithFloat:[((id<PlaynCoreImageLayer>) NIL_CHK(inverseSprite_)) tx] withFloat:[((id<PlaynCoreImageLayer>) NIL_CHK(inverseSprite_)) ty]];
  }
}

- (NSString *)description {
  return [TuxkidsTuxblocksCoreUtilsFormatter formatWithNSString:@"%s%d" withNSObjectArray:[IOSObjectArray arrayWithType:[IOSClass classWithClass:[NSObject class]] count:2, [((TuxkidsTuxblocksCoreSolveExpressionModificationOperation *) NIL_CHK(modifier_)) getSymbol], [JavaLangInteger valueOfWithInt:[((TuxkidsTuxblocksCoreSolveExpressionModificationOperation *) NIL_CHK(modifier_)) getValue]] ]];
}

- (int)getColor {
  return [((TuxkidsTuxblocksCoreSolveExpressionModificationOperation *) NIL_CHK(modifier_)) getColor];
}

- (void)copyAllPropertiesTo:(id)copy {
  [super copyAllPropertiesTo:copy];
  TuxkidsTuxblocksCoreSolveBlocksModifierBlock *typedCopy = (TuxkidsTuxblocksCoreSolveBlocksModifierBlock *) copy;
  typedCopy.modifier = modifier_;
  typedCopy.inverseModifier = inverseModifier_;
  typedCopy.isInverted_ = isInverted__;
  typedCopy.inverseSprite = inverseSprite_;
}

@end
