//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: core/src/main/java/tuxkids/tuxblocks/core/utils/Sobol.java
//
//  Created by Thomas on 7/25/13.
//

#include "IOSClass.h"
#include "IOSDoubleArray.h"
#include "IOSIntArray.h"
#include "IOSLongArray.h"
#include "IOSObjectArray.h"
#include "java/io/PrintStream.h"
#include "java/lang/Math.h"
#include "java/lang/System.h"
#include "tuxkids/tuxblocks/core/utils/Sobol.h"

@implementation TuxkidsTuxblocksCoreUtilsSobol

static IOSObjectArray * TuxkidsTuxblocksCoreUtilsSobol_pp_;

@synthesize v = v_;
@synthesize p = p_;
@synthesize g = g_;
@synthesize x_int = x_int_;

+ (int)bits {
  return TuxkidsTuxblocksCoreUtilsSobol_bits;
}

+ (long long int)N {
  return TuxkidsTuxblocksCoreUtilsSobol_N;
}

+ (IOSObjectArray *)pp {
  return TuxkidsTuxblocksCoreUtilsSobol_pp_;
}

- (NSString *)getName {
  return @"Sobol Sequence";
}

+ (void)printbinWithInt:(int)n {
  if (n > 0) {
    [TuxkidsTuxblocksCoreUtilsSobol printbinWithInt:n / 2];
    [((JavaIoPrintStream *) nil_chk([JavaLangSystem out])) printWithInt:n % 2];
  }
}

+ (int)grayWithInt:(int)n {
  return n ^ (n / 2);
}

- (void)read_prim_polWithInt:(int)d
                     withInt:(int)n
                     withInt:(int)k {
  (void) [((IOSObjectArray *) nil_chk(p_)) replaceObjectAtIndex:k withObject:[IOSIntArray arrayWithLength:d + 1]];
  int j = 0;
  (*[((IOSIntArray *) nil_chk([((IOSObjectArray *) nil_chk(p_)) objectAtIndex:k])) intRefAtIndex:d]) = 1;
  while (n > 0) {
    j++;
    (*[((IOSIntArray *) nil_chk([((IOSObjectArray *) nil_chk(p_)) objectAtIndex:k])) intRefAtIndex:d - j]) = n % 2;
    n = n / 2;
  }
  (*[((IOSIntArray *) nil_chk([((IOSObjectArray *) nil_chk(p_)) objectAtIndex:k])) intRefAtIndex:0]) = 1;
}

- (id)initWithInt:(int)dim {
  if ((self = [super initWithInt:dim])) {
    if (dim > 300) {
      [((JavaIoPrintStream *) nil_chk([JavaLangSystem out])) printlnWithNSString:@"Sobol sequence only implemented for dimension at most 300.\nExiting."];
    }
    g_ = [IOSIntArray arrayWithLength:dim];
    p_ = [IOSObjectArray arrayWithLength:dim type:[IOSIntArray iosClass]];
    (*[((IOSIntArray *) nil_chk(g_)) intRefAtIndex:0]) = 0;
    (void) [((IOSObjectArray *) nil_chk(p_)) replaceObjectAtIndex:0 withObject:[IOSIntArray arrayWithLength:1]];
    (*[((IOSIntArray *) nil_chk([((IOSObjectArray *) nil_chk(p_)) objectAtIndex:0])) intRefAtIndex:0]) = 1;
    int k = 1;
    for (int i = 0; i < (int) [((IOSObjectArray *) nil_chk(TuxkidsTuxblocksCoreUtilsSobol_pp_)) count]; i++) for (int j = 0; j < (int) [((IOSIntArray *) nil_chk([((IOSObjectArray *) nil_chk(TuxkidsTuxblocksCoreUtilsSobol_pp_)) objectAtIndex:i])) count]; j++) if (k < dim) {
      (*[((IOSIntArray *) nil_chk(g_)) intRefAtIndex:k]) = i + 1;
      [self read_prim_polWithInt:[((IOSIntArray *) nil_chk(g_)) intAtIndex:k] withInt:[((IOSIntArray *) nil_chk([((IOSObjectArray *) nil_chk(TuxkidsTuxblocksCoreUtilsSobol_pp_)) objectAtIndex:i])) intAtIndex:j] withInt:k];
      k++;
    }
    else break;
    v_ = [IOSLongArray arrayWithDimensions:2 lengths:(int[]){ dim, TuxkidsTuxblocksCoreUtilsSobol_bits }];
    for (int j = 0; j < TuxkidsTuxblocksCoreUtilsSobol_bits; j++) (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:0])) longRefAtIndex:j]) = (1LL << (TuxkidsTuxblocksCoreUtilsSobol_bits - j - 1));
    if (dim > 1) (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:1])) longRefAtIndex:0]) = (1LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 1);
    if (dim > 2) {
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:2])) longRefAtIndex:0]) = (1LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 1);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:2])) longRefAtIndex:1]) = (1LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 2);
    }
    if (dim > 3) {
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:3])) longRefAtIndex:0]) = (1LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 1);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:3])) longRefAtIndex:1]) = (3LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 2);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:3])) longRefAtIndex:2]) = (7LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 3);
    }
    if (dim > 4) {
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:4])) longRefAtIndex:0]) = (1LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 1);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:4])) longRefAtIndex:1]) = (1LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 2);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:4])) longRefAtIndex:2]) = (5LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 3);
    }
    if (dim > 5) {
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:5])) longRefAtIndex:0]) = (1LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 1);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:5])) longRefAtIndex:1]) = (3LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 2);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:5])) longRefAtIndex:2]) = (1LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 3);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:5])) longRefAtIndex:3]) = (1LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 4);
    }
    if (dim > 6) {
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:6])) longRefAtIndex:0]) = (1LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 1);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:6])) longRefAtIndex:1]) = (1LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 2);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:6])) longRefAtIndex:2]) = (3LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 3);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:6])) longRefAtIndex:3]) = (7LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 4);
    }
    if (dim > 7) {
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:7])) longRefAtIndex:0]) = (1LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 1);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:7])) longRefAtIndex:1]) = (3LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 2);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:7])) longRefAtIndex:2]) = (3LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 3);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:7])) longRefAtIndex:3]) = (9LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 4);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:7])) longRefAtIndex:4]) = (9LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 5);
    }
    if (dim > 8) {
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:8])) longRefAtIndex:0]) = (1LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 1);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:8])) longRefAtIndex:1]) = (3LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 2);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:8])) longRefAtIndex:2]) = (7LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 3);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:8])) longRefAtIndex:3]) = (7LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 4);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:8])) longRefAtIndex:4]) = (21LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 5);
    }
    if (dim > 9) {
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:9])) longRefAtIndex:0]) = (1LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 1);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:9])) longRefAtIndex:1]) = (1LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 2);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:9])) longRefAtIndex:2]) = (5LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 3);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:9])) longRefAtIndex:3]) = (11LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 4);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:9])) longRefAtIndex:4]) = (27LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 5);
    }
    if (dim > 10) {
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:10])) longRefAtIndex:0]) = (1LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 1);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:10])) longRefAtIndex:1]) = (1LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 2);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:10])) longRefAtIndex:2]) = (7LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 3);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:10])) longRefAtIndex:3]) = (3LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 4);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:10])) longRefAtIndex:4]) = (29LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 5);
    }
    if (dim > 11) {
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:11])) longRefAtIndex:0]) = (1LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 1);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:11])) longRefAtIndex:1]) = (3LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 2);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:11])) longRefAtIndex:2]) = (7LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 3);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:11])) longRefAtIndex:3]) = (13LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 4);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:11])) longRefAtIndex:4]) = (3LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 5);
    }
    if (dim > 12) {
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:12])) longRefAtIndex:0]) = (1LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 1);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:12])) longRefAtIndex:1]) = (3LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 2);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:12])) longRefAtIndex:2]) = (5LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 3);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:12])) longRefAtIndex:3]) = (1LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 4);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:12])) longRefAtIndex:4]) = (15LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 5);
    }
    if (dim > 13) {
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:13])) longRefAtIndex:0]) = (1LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 1);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:13])) longRefAtIndex:1]) = (1LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 2);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:13])) longRefAtIndex:2]) = (1LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 3);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:13])) longRefAtIndex:3]) = (9LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 4);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:13])) longRefAtIndex:4]) = (23LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 5);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:13])) longRefAtIndex:5]) = (37LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 6);
    }
    if (dim > 14) {
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:14])) longRefAtIndex:0]) = (1LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 1);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:14])) longRefAtIndex:1]) = (1LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 2);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:14])) longRefAtIndex:2]) = (3LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 3);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:14])) longRefAtIndex:3]) = (13LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 4);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:14])) longRefAtIndex:4]) = (11LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 5);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:14])) longRefAtIndex:5]) = (7LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 6);
    }
    if (dim > 15) {
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:15])) longRefAtIndex:0]) = (1LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 1);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:15])) longRefAtIndex:1]) = (3LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 2);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:15])) longRefAtIndex:2]) = (3LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 3);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:15])) longRefAtIndex:3]) = (5LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 4);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:15])) longRefAtIndex:4]) = (19LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 5);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:15])) longRefAtIndex:5]) = (33LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 6);
    }
    if (dim > 16) {
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:16])) longRefAtIndex:0]) = (1LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 1);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:16])) longRefAtIndex:1]) = (1LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 2);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:16])) longRefAtIndex:2]) = (7LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 3);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:16])) longRefAtIndex:3]) = (13LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 4);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:16])) longRefAtIndex:4]) = (25LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 5);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:16])) longRefAtIndex:5]) = (5LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 6);
    }
    if (dim > 17) {
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:17])) longRefAtIndex:0]) = (1LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 1);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:17])) longRefAtIndex:1]) = (1LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 2);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:17])) longRefAtIndex:2]) = (1LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 3);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:17])) longRefAtIndex:3]) = (13LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 4);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:17])) longRefAtIndex:4]) = (15LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 5);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:17])) longRefAtIndex:5]) = (39LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 6);
    }
    if (dim > 18) {
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:18])) longRefAtIndex:0]) = (1LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 1);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:18])) longRefAtIndex:1]) = (3LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 2);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:18])) longRefAtIndex:2]) = (5LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 3);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:18])) longRefAtIndex:3]) = (11LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 4);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:18])) longRefAtIndex:4]) = (7LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 5);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:18])) longRefAtIndex:5]) = (11LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 6);
    }
    if (dim > 19) {
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:19])) longRefAtIndex:0]) = (1LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 1);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:19])) longRefAtIndex:1]) = (3LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 2);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:19])) longRefAtIndex:2]) = (1LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 3);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:19])) longRefAtIndex:3]) = (7LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 4);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:19])) longRefAtIndex:4]) = (3LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 5);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:19])) longRefAtIndex:5]) = (23LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 6);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:19])) longRefAtIndex:6]) = (79LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 7);
    }
    if (dim > 20) {
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:20])) longRefAtIndex:0]) = (1LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 1);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:20])) longRefAtIndex:1]) = (3LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 2);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:20])) longRefAtIndex:2]) = (1LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 3);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:20])) longRefAtIndex:3]) = (15LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 4);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:20])) longRefAtIndex:4]) = (17LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 5);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:20])) longRefAtIndex:5]) = (63LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 6);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:20])) longRefAtIndex:6]) = (13LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 7);
    }
    if (dim > 21) {
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:21])) longRefAtIndex:0]) = (1LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 1);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:21])) longRefAtIndex:1]) = (3LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 2);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:21])) longRefAtIndex:2]) = (3LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 3);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:21])) longRefAtIndex:3]) = (3LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 4);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:21])) longRefAtIndex:4]) = (25LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 5);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:21])) longRefAtIndex:5]) = (17LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 6);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:21])) longRefAtIndex:6]) = (115LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 7);
    }
    if (dim > 22) {
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:22])) longRefAtIndex:0]) = (1LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 1);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:22])) longRefAtIndex:1]) = (3LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 2);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:22])) longRefAtIndex:2]) = (7LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 3);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:22])) longRefAtIndex:3]) = (9LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 4);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:22])) longRefAtIndex:4]) = (31LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 5);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:22])) longRefAtIndex:5]) = (29LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 6);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:22])) longRefAtIndex:6]) = (17LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 7);
    }
    if (dim > 23) {
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:23])) longRefAtIndex:0]) = (1LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 1);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:23])) longRefAtIndex:1]) = (1LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 2);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:23])) longRefAtIndex:2]) = (3LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 3);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:23])) longRefAtIndex:3]) = (15LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 4);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:23])) longRefAtIndex:4]) = (29LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 5);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:23])) longRefAtIndex:5]) = (15LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 6);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:23])) longRefAtIndex:6]) = (41LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 7);
    }
    if (dim > 24) {
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:24])) longRefAtIndex:0]) = (1LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 1);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:24])) longRefAtIndex:1]) = (3LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 2);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:24])) longRefAtIndex:2]) = (1LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 3);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:24])) longRefAtIndex:3]) = (9LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 4);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:24])) longRefAtIndex:4]) = (5LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 5);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:24])) longRefAtIndex:5]) = (21LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 6);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:24])) longRefAtIndex:6]) = (119LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 7);
    }
    if (dim > 25) {
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:25])) longRefAtIndex:0]) = (1LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 1);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:25])) longRefAtIndex:1]) = (1LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 2);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:25])) longRefAtIndex:2]) = (5LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 3);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:25])) longRefAtIndex:3]) = (5LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 4);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:25])) longRefAtIndex:4]) = (1LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 5);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:25])) longRefAtIndex:5]) = (27LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 6);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:25])) longRefAtIndex:6]) = (33LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 7);
    }
    if (dim > 26) {
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:26])) longRefAtIndex:0]) = (1LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 1);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:26])) longRefAtIndex:1]) = (1LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 2);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:26])) longRefAtIndex:2]) = (3LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 3);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:26])) longRefAtIndex:3]) = (1LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 4);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:26])) longRefAtIndex:4]) = (23LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 5);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:26])) longRefAtIndex:5]) = (13LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 6);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:26])) longRefAtIndex:6]) = (75LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 7);
    }
    if (dim > 27) {
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:27])) longRefAtIndex:0]) = (1LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 1);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:27])) longRefAtIndex:1]) = (1LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 2);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:27])) longRefAtIndex:2]) = (7LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 3);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:27])) longRefAtIndex:3]) = (7LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 4);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:27])) longRefAtIndex:4]) = (19LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 5);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:27])) longRefAtIndex:5]) = (25LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 6);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:27])) longRefAtIndex:6]) = (105LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 7);
    }
    if (dim > 28) {
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:28])) longRefAtIndex:0]) = (1LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 1);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:28])) longRefAtIndex:1]) = (3LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 2);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:28])) longRefAtIndex:2]) = (5LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 3);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:28])) longRefAtIndex:3]) = (5LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 4);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:28])) longRefAtIndex:4]) = (21LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 5);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:28])) longRefAtIndex:5]) = (9LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 6);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:28])) longRefAtIndex:6]) = (7LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 7);
    }
    if (dim > 29) {
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:29])) longRefAtIndex:0]) = (1LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 1);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:29])) longRefAtIndex:1]) = (1LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 2);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:29])) longRefAtIndex:2]) = (1LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 3);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:29])) longRefAtIndex:3]) = (15LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 4);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:29])) longRefAtIndex:4]) = (5LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 5);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:29])) longRefAtIndex:5]) = (49LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 6);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:29])) longRefAtIndex:6]) = (59LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 7);
    }
    if (dim > 30) {
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:30])) longRefAtIndex:0]) = (1LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 1);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:30])) longRefAtIndex:1]) = (3LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 2);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:30])) longRefAtIndex:2]) = (5LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 3);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:30])) longRefAtIndex:3]) = (15LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 4);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:30])) longRefAtIndex:4]) = (17LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 5);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:30])) longRefAtIndex:5]) = (19LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 6);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:30])) longRefAtIndex:6]) = (21LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 7);
    }
    if (dim > 31) {
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:31])) longRefAtIndex:0]) = (1LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 1);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:31])) longRefAtIndex:1]) = (1LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 2);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:31])) longRefAtIndex:2]) = (7LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 3);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:31])) longRefAtIndex:3]) = (11LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 4);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:31])) longRefAtIndex:4]) = (13LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 5);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:31])) longRefAtIndex:5]) = (29LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 6);
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:31])) longRefAtIndex:6]) = (3LL << TuxkidsTuxblocksCoreUtilsSobol_bits - 7);
    }
    for (k = 32; k < dim; k++) {
      for (int l = 0; l < [((IOSIntArray *) nil_chk(g_)) intAtIndex:k]; l++) {
        double u = [JavaLangMath random];
        long long int f = (1LL << l + 1), n = (int) (f * u);
        while (n % 2 == 0) {
          u = [JavaLangMath random];
          n = (int) (f * u);
        }
        (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:k])) longRefAtIndex:l]) = (n << (TuxkidsTuxblocksCoreUtilsSobol_bits - l - 1));
      }
    }
    for (k = 1; k < dim; k++) for (int l = [((IOSIntArray *) nil_chk(g_)) intAtIndex:k]; l < TuxkidsTuxblocksCoreUtilsSobol_bits; l++) {
      long long int n = ([((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:k])) longAtIndex:l - [((IOSIntArray *) nil_chk(g_)) intAtIndex:k]] >> [((IOSIntArray *) nil_chk(g_)) intAtIndex:k]);
      for (int j = 1; j <= [((IOSIntArray *) nil_chk(g_)) intAtIndex:k]; j++) if ([((IOSIntArray *) nil_chk([((IOSObjectArray *) nil_chk(p_)) objectAtIndex:k])) intAtIndex:j] != 0) n = n ^ [((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:k])) longAtIndex:l - j];
      (*[((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:k])) longRefAtIndex:l]) = n;
    }
    index_ = 1;
    x_int_ = [IOSLongArray arrayWithLength:dim];
    for (k = 0; k < dim; k++) (*[((IOSLongArray *) nil_chk(x_int_)) longRefAtIndex:k]) = [((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:k])) longAtIndex:0];
    x_ = [IOSDoubleArray arrayWithLength:dim];
    for (k = 0; k < dim; k++) (*[((IOSDoubleArray *) nil_chk(x_)) doubleRefAtIndex:k]) = ((double) [((IOSLongArray *) nil_chk(x_int_)) longAtIndex:k]) / TuxkidsTuxblocksCoreUtilsSobol_N;
  }
  return self;
}

- (void)restart {
  index_ = 1;
  for (int k = 0; k < dim_; k++) (*[((IOSLongArray *) nil_chk(x_int_)) longRefAtIndex:k]) = [((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:k])) longAtIndex:0];
}

- (IOSDoubleArray *)nextPoint {
  int j = 0, n = index_;
  while (n % 2 == 1) {
    n = n >> 1;
    j++;
  }
  for (int k = 0; k < dim_; k++) {
    (*[((IOSLongArray *) nil_chk(x_int_)) longRefAtIndex:k]) ^= [((IOSLongArray *) nil_chk([((IOSObjectArray *) nil_chk(v_)) objectAtIndex:k])) longAtIndex:j];
    (*[((IOSDoubleArray *) nil_chk(x_)) doubleRefAtIndex:k]) = ((double) [((IOSLongArray *) nil_chk(x_int_)) longAtIndex:k]) / TuxkidsTuxblocksCoreUtilsSobol_N;
  }
  index_++;
  return x_;
}

+ (void)initialize {
  if (self == [TuxkidsTuxblocksCoreUtilsSobol class]) {
    TuxkidsTuxblocksCoreUtilsSobol_pp_ = [IOSObjectArray arrayWithObjects:(id[]){ [IOSIntArray arrayWithInts:(int[]){ 0 } count:1], [IOSIntArray arrayWithInts:(int[]){ 1 } count:1], [IOSIntArray arrayWithInts:(int[]){ 1, 2 } count:2], [IOSIntArray arrayWithInts:(int[]){ 1, 4 } count:2], [IOSIntArray arrayWithInts:(int[]){ 2, 4, 7, 11, 13, 14 } count:6], [IOSIntArray arrayWithInts:(int[]){ 1, 13, 16, 19, 22, 25 } count:6], [IOSIntArray arrayWithInts:(int[]){ 1, 4, 7, 8, 14, 19, 21, 28, 31, 32, 37, 41, 42, 50, 55, 56, 59, 62 } count:18], [IOSIntArray arrayWithInts:(int[]){ 14, 21, 22, 38, 47, 49, 50, 52, 56, 67, 70, 84, 97, 103, 115, 122 } count:16], [IOSIntArray arrayWithInts:(int[]){ 8, 13, 16, 22, 25, 44, 47, 52, 55, 59, 62, 67, 74, 81, 82, 87, 91, 94, 103, 104, 109, 122, 124, 137, 138, 143, 145, 152, 157, 167, 173, 176, 181, 182, 185, 191, 194, 199, 218, 220, 227, 229, 230, 234, 236, 241, 244, 253 } count:48], [IOSIntArray arrayWithInts:(int[]){ 4, 13, 19, 22, 50, 55, 64, 69, 98, 107, 115, 121, 127, 134, 140, 145, 152, 158, 161, 171, 181, 194, 199, 203, 208, 227, 242, 251, 253, 265, 266, 274, 283, 289, 295, 301, 316, 319, 324, 346, 352, 361, 367, 382, 395, 398, 400, 412, 419, 422, 426, 428, 433, 446, 454, 457, 472, 493, 505, 508 } count:60], [IOSIntArray arrayWithInts:(int[]){ 2, 11, 21, 22, 35, 49, 50, 56, 61, 70, 74, 79, 84, 88, 103, 104, 112, 115, 117, 122, 134, 137, 146, 148, 157, 158, 162, 164, 168, 173, 185, 186, 191, 193, 199, 213, 214, 220, 227, 236, 242, 251, 256, 259, 265, 266, 276, 292, 304, 310, 316, 319, 322, 328, 334, 339, 341, 345, 346, 362, 367, 372, 375, 376, 381, 385, 388, 392, 409, 415, 416, 421, 428, 431, 434, 439, 446, 451, 453, 457, 458, 471, 475, 478, 484, 493, 494, 499, 502, 517, 518, 524, 527, 555, 560, 565, 569, 578, 580, 587, 589, 590, 601, 607, 611, 614, 617, 618, 625, 628, 635, 641, 647, 654, 659, 662, 672, 675, 682, 684, 689, 695, 696, 713, 719, 724, 733, 734, 740, 747, 749, 752, 755, 762, 770, 782, 784, 787, 789, 793, 796, 803, 805, 810, 815, 824, 829, 830, 832, 841, 847, 849, 861, 871, 878, 889, 892, 901, 908, 920, 923, 942, 949, 950, 954, 961, 968, 971, 973, 979, 982, 986, 998, 1001, 1010, 1012 } count:176], [IOSIntArray arrayWithInts:(int[]){ 41, 52, 61, 62, 76, 104, 117, 131, 143, 145, 157, 167, 171, 176, 181, 194, 217, 236 } count:18] } count:12 type:[IOSIntArray iosClass]];
  }
}

- (void)copyAllPropertiesTo:(id)copy {
  [super copyAllPropertiesTo:copy];
  TuxkidsTuxblocksCoreUtilsSobol *typedCopy = (TuxkidsTuxblocksCoreUtilsSobol *) copy;
  typedCopy.v = v_;
  typedCopy.p = p_;
  typedCopy.g = g_;
  typedCopy.x_int = x_int_;
}

@end
