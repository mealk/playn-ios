//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: core/src/main/java/tuxkids/tuxblocks/core/effect/MissileExplosion.java
//
//  Created by Thomas on 7/10/13.
//

#import "java/util/List.h"
#import "java/util/Random.h"
#import "playn/core/CanvasImage.h"
#import "playn/core/ImmediateLayer.h"
#import "playn/core/Layer.h"
#import "pythagoras/f/Vector.h"
#import "tripleplay/particle/Effector.h"
#import "tripleplay/particle/Emitter.h"
#import "tripleplay/particle/Generator.h"
#import "tripleplay/particle/Initializer.h"
#import "tripleplay/particle/effect/Alpha.h"
#import "tripleplay/particle/effect/Move.h"
#import "tripleplay/particle/init/Angle.h"
#import "tripleplay/particle/init/Color.h"
#import "tripleplay/particle/init/Lifespan.h"
#import "tripleplay/particle/init/TuxTransform.h"
#import "tripleplay/particle/init/TuxVelocity.h"
#import "tripleplay/util/Colors.h"
#import "tripleplay/util/Interpolator.h"
#import "tripleplay/util/Randoms.h"
#import "tuxkids/tuxblocks/core/defense/Grid.h"
#import "tuxkids/tuxblocks/core/effect/MissileExplosion.h"
#import "tuxkids/tuxblocks/core/utils/CanvasUtils.h"

@implementation TuxkidsTuxblocksCoreEffectMissileExplosion

- (id)initWithTuxkidsTuxblocksCoreDefenseGrid:(TuxkidsTuxblocksCoreDefenseGrid *)grid
                        withPythagorasFVector:(PythagorasFVector *)position {
  if ((self = [super init])) {
    int p = 30;
    TripleplayParticleEmitter *emitter = [((TuxkidsTuxblocksCoreDefenseGrid *) NIL_CHK(grid)) createEmitterWithInt:p withPlaynCoreImage:[TuxkidsTuxblocksCoreUtilsCanvasUtils createCircleWithFloat:2 withInt:[((TuxkidsTuxblocksCoreDefenseGrid *) NIL_CHK(grid)) towerColor]]];
    ((TripleplayParticleEmitter *) NIL_CHK(emitter)).generator = [TripleplayParticleGenerator impulseWithInt:p];
    [((id<JavaUtilList>) NIL_CHK(emitter.initters)) addWithId:[TripleplayParticleInitLifespan constantWithFloat:1]];
    [((id<JavaUtilList>) NIL_CHK(emitter.initters)) addWithId:[TripleplayParticleInitColor constantWithInt:[TripleplayUtilColors WHITE]]];
    [((id<JavaUtilList>) NIL_CHK(emitter.initters)) addWithId:[TripleplayParticleInitTuxTransform layerWithPlaynCoreLayer:((TripleplayParticleEmitter *) NIL_CHK(emitter)).layer]];
    TripleplayUtilRandoms *rando = [TripleplayUtilRandoms withWithJavaUtilRandom:[[JavaUtilRandom alloc] init]];
    [((id<JavaUtilList>) NIL_CHK(emitter.initters)) addWithId:[TripleplayParticleInitTuxVelocity randomCircleWithTripleplayUtilRandoms:rando withFloat:50]];
    [((id<JavaUtilList>) NIL_CHK(emitter.effectors)) addWithId:[[TripleplayParticleEffectMove alloc] init]];
    [((id<JavaUtilList>) NIL_CHK(emitter.effectors)) addWithId:[TripleplayParticleEffectAlpha byAgeWithTripleplayUtilInterpolator:[TripleplayUtilInterpolator EASE_OUT] withFloat:1 withFloat:0]];
    [((TripleplayParticleEmitter *) NIL_CHK(emitter)) destroyOnEmpty];
    (void) [((id<PlaynCoreImmediateLayer>) NIL_CHK(emitter.layer)) setTranslationWithFloat:((PythagorasFVector *) NIL_CHK(position)).x_ withFloat:((PythagorasFVector *) NIL_CHK(position)).y_];
    emitter = [((TuxkidsTuxblocksCoreDefenseGrid *) NIL_CHK(grid)) createEmitterWithInt:10 withPlaynCoreImage:[TuxkidsTuxblocksCoreUtilsCanvasUtils createRectWithFloat:5 withFloat:1 withInt:[TripleplayUtilColors WHITE]]];
    ((TripleplayParticleEmitter *) NIL_CHK(emitter)).generator = [TripleplayParticleGenerator impulseWithInt:10];
    [((id<JavaUtilList>) NIL_CHK(emitter.initters)) addWithId:[TripleplayParticleInitLifespan constantWithFloat:1]];
    [((id<JavaUtilList>) NIL_CHK(emitter.initters)) addWithId:[TripleplayParticleInitColor constantWithInt:[TripleplayUtilColors BLACK]]];
    [((id<JavaUtilList>) NIL_CHK(emitter.initters)) addWithId:[TripleplayParticleInitTuxTransform layerWithPlaynCoreLayer:((TripleplayParticleEmitter *) NIL_CHK(emitter)).layer]];
    [((id<JavaUtilList>) NIL_CHK(emitter.initters)) addWithId:[TripleplayParticleInitTuxVelocity randomCircleWithTripleplayUtilRandoms:rando withFloat:50 withFloat:50]];
    [((id<JavaUtilList>) NIL_CHK(emitter.initters)) addWithId:[TripleplayParticleInitAngle byVelocity]];
    [((id<JavaUtilList>) NIL_CHK(emitter.effectors)) addWithId:[[TripleplayParticleEffectMove alloc] init]];
    [((id<JavaUtilList>) NIL_CHK(emitter.effectors)) addWithId:[TripleplayParticleEffectAlpha byAgeWithTripleplayUtilInterpolator:[TripleplayUtilInterpolator EASE_OUT] withFloat:1 withFloat:0]];
    [((TripleplayParticleEmitter *) NIL_CHK(emitter)) destroyOnEmpty];
    (void) [((id<PlaynCoreImmediateLayer>) NIL_CHK(emitter.layer)) setTranslationWithFloat:((PythagorasFVector *) NIL_CHK(position)).x_ withFloat:((PythagorasFVector *) NIL_CHK(position)).y_];
  }
  return self;
}

@end
